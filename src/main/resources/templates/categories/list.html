<!-- templates/categories/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Danh s√°ch danh m·ª•c</title>

    <!-- CSS n·ªôi tuy·∫øn -->
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 30px;
            background-color: #f8f9fa;
        }
        h2 {
            text-align: center;
            color: #333;
        }
        form {
            margin-bottom: 20px;
            text-align: center;
        }
        input[type="text"] {
            padding: 6px;
            width: 250px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button, a.btn {
            background-color: #007bff;
            color: white;
            padding: 6px 12px;
            border: none;
            text-decoration: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover, a.btn:hover {
            background-color: #0056b3;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .actions a {
            margin: 0 5px;
            color: #007bff;
            text-decoration: none;
        }
        .actions a:hover {
            text-decoration: underline;
        }
    </style>

    <!-- JS x√°c nh·∫≠n x√≥a -->
    <script>
        function confirmDelete(name) {
            return confirm("B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a danh m·ª•c '" + name + "' kh√¥ng?");
        }
    </script>
</head>

<body>
<h2>üìÇ Danh s√°ch danh m·ª•c</h2>

<!-- Form t√¨m ki·∫øm -->
<form th:action="@{/categories/search}" method="get">
    <input type="text" name="name" placeholder="Nh·∫≠p t√™n danh m·ª•c..." th:value="${searchKey}">
    <button type="submit">üîç T√¨m ki·∫øm</button>
    <a th:href="@{/categories}" class="btn">üîÑ T·∫£i l·∫°i</a>
</form>

<!-- N√∫t th√™m m·ªõi -->
<div style="text-align: right; margin-bottom: 10px;">
    <a th:href="@{/categories/new}" class="btn">‚ûï Th√™m danh m·ª•c m·ªõi</a>
</div>

<!-- B·∫£ng danh m·ª•c -->
<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>T√™n danh m·ª•c</th>
        <th>M√¥ t·∫£</th>
        <th>H√†nh ƒë·ªông</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="category : ${categories}">
        <td th:text="${category.categoryId}"></td>
        <td>
            <a th:href="@{'/categories/' + ${category.categoryId}}" th:text="${category.categoryName}"></a>
        </td>
        <td th:text="${category.description}"></td>
        <td class="actions">
            <a th:href="@{'/categories/edit/' + ${category.categoryId}}">‚úèÔ∏è S·ª≠a</a>
            <a th:href="@{'/categories/delete/' + ${category.categoryId}}"
               th:onclick="'return confirmDelete(\'' + ${category.categoryName} + '\');'">üóëÔ∏è X√≥a</a>
        </td>
    </tr>
    <tr th:if="${#lists.isEmpty(categories)}">
        <td colspan="4" style="text-align: center; color: gray;">Kh√¥ng c√≥ danh m·ª•c n√†o.</td>
    </tr>
    </tbody>
</table>

</body>
</html>
