<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <title>Chi ti·∫øt s·∫£n ph·∫©m</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f6f8;
      margin: 0;
    }
    .container {
      width: 50%;
      margin: 50px auto;
      background: white;
      border-radius: 10px;
      padding: 25px;
      box-shadow: 0 0 10px #ccc;
    }
    h2 {
      text-align: center;
      color: #007bff;
    }
    .info {
      margin: 20px 0;
    }
    .info label {
      font-weight: bold;
    }
    .btn {
      padding: 8px 15px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      text-decoration: none;
      margin-right: 8px;
    }
    .btn:hover {
      background-color: #0056b3;
    }
    .alert {
        padding: 10px 15px;
        border-radius: 6px;
        margin-bottom: 15px;
        border: 1px solid transparent;
    }
    .alert-success {
        background-color: #d4edda;
        color: #155724;
        border-color: #c3e6cb;
    }
    .alert-danger {
        background-color: #f8d7da;
        color: #721c24;
        border-color: #f5c6cb;
    }
  </style>
</head>
<body>
<div class="container">
    <h2>Chi ti·∫øt s·∫£n ph·∫©m</h2>
    <div th:if="${addCartSuccess}" class="alert alert-success" th:text="${addCartSuccess}">
    </div>
    <div th:if="${addCartError}" class="alert alert-danger" th:text="${addCartError}">
    </div>
    <div th:if="${product.imageUrl}" style="text-align:center; margin-bottom: 20px;">
        <img th:src="@{${product.imageUrl}}" style="max-width: 300px; border-radius: 8px;" alt="·∫¢nh s·∫£n ph·∫©m">
    </div>

    <div class="info">
        <p><label>ID:</label> <span th:text="${product.productId}"></span></p>
        <p><label>T√™n:</label> <span th:text="${product.productName}"></span></p>
        <p><label>Gi√°:</label> <span th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + ' ƒë'"></span></p>
        <p><label>S·ªë l∆∞·ª£ng:</label> <span th:text="${product.stockQuantity}"></span></p>
        <p><label>M√†u s·∫Øc:</label> <span th:text="${product.color}"></span></p>
        <p><label>K√≠ch c·ª°:</label> <span th:text="${product.size}"></span></p>
        <p><label>M√¥ t·∫£:</label> <span th:text="${product.description}"></span></p>
        <p><label>Danh m·ª•c:</label> <span th:text="${product.categoryName}"></span></p>
    </div>
    <div style="margin-top: 20px; text-align: center;">
        <form th:action="@{/cartitems/add}" method="post">
            <input type="hidden" name="product.productId" th:value="${product.productId}" />

            <input type="hidden" name="cartId" th:value="${currentCartId}" />

            <label for="quantity">S·ªë l∆∞·ª£ng:</label>
            <input type="number" id="quantity" name="quantity" value="1" min="1"
                   style="width: 60px; padding: 5px; margin-right: 10px;">

            <button type="submit" class="btn" style="background-color: #38a169;">üõí Th√™m v√†o gi·ªè</button>
        </form>
    </div>
    <a th:if="${origin == 'cart'}" th:href="@{/cart/my-cart}" class="btn">‚¨Ö Quay l·∫°i Gi·ªè h√†ng</a>
    <a th:if="${origin == 'order'}" th:href="@{'/orders/' + ${orderId}}" class="btn">‚¨Ö Quay l·∫°i ƒê∆°n h√†ng</a>
    <a th:unless="${origin == 'cart' or origin == 'order'}" th:href="@{/products}" class="btn">‚¨Ö Quay l·∫°i S·∫£n ph·∫©m</a>
    <a sec:authorize="hasRole('ADMIN')" th:href="@{'/products/form?id=' + ${product.productId}}" class="btn">‚úèÔ∏è Ch·ªânh s·ª≠a</a>
</div>
</body>
</html>

